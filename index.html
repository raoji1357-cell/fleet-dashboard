<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Fleet Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      display: flex;
      height: 100vh;
      background: #f8f9fa;
    }

    /* Sidebar */
    .sidebar {
      width: 200px;
      background: #343a40;
      color: #fff;
      display: flex;
      flex-direction: column;
      padding-top: 20px;
    }

    .sidebar h2 {
      font-size: 16px;
      text-align: center;
      margin-bottom: 20px;
      color: #ffc107;
    }

    .menu-item {
      padding: 12px 16px;
      cursor: pointer;
    }

    .menu-item:hover,
    .menu-item.active {
      background: #495057;
    }

    /* Main */
    .main {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }

    input {
      padding: 6px;
      width: 250px;
      margin-top: 5px;
    }

    .suggestions {
      border: 1px solid #ccc;
      max-width: 260px;
      background: #fff;
    }

    .suggestions div {
      padding: 6px;
      cursor: pointer;
    }

    .suggestions div:hover {
      background: #f1f1f1;
    }

    .card {
      background: #fff;
      padding: 15px;
      margin-top: 20px;
      border: 1px solid #ddd;
      max-width: 400px;
    }
  </style>
</head>

<body>

  <!-- SIDEBAR -->
  <div class="sidebar">
    <h2>ðŸ“Š Fleet Reports</h2>
    <div class="menu-item active" onclick="showDayWise(this)">Day Wise</div>
    <div class="menu-item">Month Wise</div>
    <div class="menu-item">Scheme Wise</div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main" id="main">

    <h2>Day Wise Report</h2>

    <!-- DATE -->
    <label>
      Select Date<br>
      <input type="date" id="dateInput">
    </label>

    <br><br>

    <!-- SEARCH -->
    <label>
      Search by Driver Name / Car Number<br>
      <input type="text" id="searchInput" placeholder="Type name or car number">
    </label>

    <!-- SUGGESTIONS -->
    <div class="suggestions" id="suggestions"></div>

    <!-- RESULT -->
    <div id="result"></div>

  </div>

<script>
/* ===================== DUMMY DAY WISE DATA ===================== */
const dayWiseData = [
  {
    date: "2026-01-01",
    CarNumber: "HR55AW6215",
    SH_Driver1_UUID: "dc045acb-c761-494a-91ec-4ad7799608ed",
    SH_Driver1_Name: "NEERAJ SAINI",
    Trips: 10,
    OnlineHours: 12.58,
    AR: 92,
    Cash: -1821.88,
    Earning: 6179.18
  },
  {
    date: "2026-01-01",
    CarNumber: "HR26DK8332",
    SH_Driver1_UUID: "uuid-222",
    SH_Driver1_Name: "ROHIT KUMAR",
    Trips: 8,
    OnlineHours: 9.2,
    AR: 88,
    Cash: -950,
    Earning: 5120
  }
];

/* ===================== MENU ===================== */
function showDayWise(el) {
  document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
  el.classList.add('active');
}

/* ===================== SEARCH LOGIC ===================== */
const searchInput = document.getElementById("searchInput");
const dateInput = document.getElementById("dateInput");
const suggestions = document.getElementById("suggestions");
const result = document.getElementById("result");

searchInput.addEventListener("input", () => {
  const q = searchInput.value.toLowerCase();
  const date = dateInput.value;

  suggestions.innerHTML = "";
  result.innerHTML = "";

  if (!q || !date) return;

  const matches = dayWiseData.filter(d =>
    d.date === date &&
    (
      d.SH_Driver1_Name.toLowerCase().includes(q) ||
      d.CarNumber.toLowerCase().includes(q)
    )
  );

  matches.forEach(m => {
    const div = document.createElement("div");
    div.textContent = `${m.SH_Driver1_Name} (${m.CarNumber})`;
    div.onclick = () => showReport(m);
    suggestions.appendChild(div);
  });
});

/* ===================== SHOW REPORT ===================== */
function showReport(d) {
  suggestions.innerHTML = "";

  result.innerHTML = `
    <div class="card">
      <h3>${d.SH_Driver1_Name}</h3>
      <p><b>Date:</b> ${d.date}</p>
      <p><b>Car Number:</b> ${d.CarNumber}</p>
      <p><b>Trips:</b> ${d.Trips}</p>
      <p><b>Online Hours:</b> ${d.OnlineHours}</p>
      <p><b>AR:</b> ${d.AR}%</p>
      <p><b>Cash:</b> â‚¹${d.Cash}</p>
      <p><b>Total Earning:</b> â‚¹${d.Earning}</p>
    </div>
  `;
}
</script>

</body>
</html>
